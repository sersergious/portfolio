/* styles/components.css - UI components with all custom classes */
@layer base {
  /* Global element resets */
  * {
    @apply border-border outline-ring/50;
  }

  /* Interactive states */
  a:hover,
  button:hover:not(:disabled) {
    @apply bg-muted/80;
  }

  a:focus,
  button:focus,
  input:focus,
  textarea:focus,
  select:focus {
    @apply ring-2 ring-ring outline-none;
  }

  :focus-visible {
    @apply ring-2 ring-ring outline-none;
  }

  /* Custom scrollbars */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--base2);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--base1);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--base0);
  }

  .dark ::-webkit-scrollbar-track {
    background: var(--base02);
  }

  .dark ::-webkit-scrollbar-thumb {
    background: var(--base01);
  }

  .dark ::-webkit-scrollbar-thumb:hover {
    background: var(--base00);
  }

  /* Thin scrollbars */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--base1) var(--base2);
  }

  .dark .scrollbar-thin {
    scrollbar-color: var(--base01) var(--base02);
  }

  .scrollbar-thumb-muted {
    scrollbar-color: var(--muted-foreground) transparent;
  }

  .scrollbar-track-transparent {
    scrollbar-color: var(--muted-foreground) transparent;
  }
}

/* Component utilities */
@layer utilities {
  /* Card variants */
  .card-elevated {
    @apply bg-card border border-border shadow-lg rounded-lg;
  }

  .card-flat {
    @apply bg-card border border-border rounded-lg;
  }

  /* Interactive elements */
  .interactive {
    @apply transition-colors duration-200;
    @apply hover:bg-muted/50 focus:bg-muted/50;
    @apply focus:ring-2 focus:ring-ring focus:outline-none;
  }

  /* Input variants */
  .input-primary {
    @apply bg-input border border-border rounded-lg;
    @apply focus:border-primary focus:ring-2 focus:ring-primary/20;
    @apply transition-colors duration-200;
  }

  /* Button variants */
  .btn-primary {
    @apply bg-primary text-primary-foreground px-4 py-2 rounded-lg font-medium;
    @apply hover:bg-primary/90 focus:bg-primary/90;
    @apply focus:ring-2 focus:ring-primary/20 focus:outline-none;
    @apply transition-colors duration-200;
  }

  .btn-secondary {
    @apply bg-secondary text-secondary-foreground px-4 py-2 rounded-lg font-medium;
    @apply hover:bg-secondary/80 focus:bg-secondary/80;
    @apply focus:ring-2 focus:ring-secondary/20 focus:outline-none;
    @apply transition-colors duration-200;
  }

  /* Text truncation utilities */
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }

  .line-clamp-4 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 4;
  }
}

/* Notion-style components */
@layer components {
  /* Notion page layout */
  .notion-page {
    @apply max-w-4xl mx-auto px-6 py-8;
  }

  .notion-header {
    @apply mb-12;
  }

  .notion-content {
    @apply space-y-4;
  }

  .notion-block {
    @apply transition-colors duration-200;
  }

  /* Notion-style headings with hover links */
  .heading-link {
    @apply no-underline;
  }

  .heading-link:hover {
    @apply text-primary;
  }

  .heading-link::before {
    content: '#';
    @apply absolute -ml-6 text-muted-foreground opacity-0 transition-opacity;
    @apply group-hover:opacity-100;
  }

  /* Table of contents */
  .table-of-contents {
    @apply bg-muted/30 border border-border rounded-lg p-4 mb-8;
  }

  .table-of-contents ul {
    @apply list-none space-y-1 ml-0;
  }

  .table-of-contents li {
    @apply text-sm;
  }

  .table-of-contents a {
    @apply text-muted-foreground hover:text-primary transition-colors;
    @apply no-underline block py-1;
  }

  /* Prose styling for content */
  .prose {
    @apply text-foreground max-w-none;
  }

  .prose h1 {
    @apply text-3xl font-bold text-foreground mt-8 mb-4 leading-tight;
  }

  .prose h2 {
    @apply text-2xl font-semibold text-foreground mt-6 mb-3 leading-tight;
  }

  .prose h3 {
    @apply text-xl font-semibold text-foreground mt-5 mb-2 leading-tight;
  }

  .prose h4 {
    @apply text-lg font-semibold text-foreground mt-4 mb-2 leading-tight;
  }

  .prose h5 {
    @apply text-base font-semibold text-foreground mt-3 mb-2 leading-tight;
  }

  .prose h6 {
    @apply text-sm font-semibold text-foreground mt-3 mb-2 leading-tight;
  }

  .prose p {
    @apply text-foreground leading-7 mb-4;
  }

  .prose a {
    @apply text-primary hover:text-primary/80 underline underline-offset-2;
  }

  .prose strong {
    @apply text-foreground font-semibold;
  }

  .prose em {
    @apply text-foreground italic;
  }

  .prose code {
    @apply text-accent bg-muted px-1.5 py-0.5 rounded text-sm font-mono;
  }

  .prose pre {
    @apply bg-muted border border-border rounded-lg p-4 overflow-x-auto mb-4;
  }

  .prose pre code {
    @apply bg-transparent px-0 py-0 text-sm;
  }

  .prose blockquote {
    @apply border-l-4 border-primary pl-4 py-2 mb-4 bg-muted/50 rounded-r-lg;
    @apply text-foreground italic;
  }

  .prose ul {
    @apply list-disc ml-6 space-y-2 mb-4;
  }

  .prose ol {
    @apply list-decimal ml-6 space-y-2 mb-4;
  }

  .prose li {
    @apply text-foreground leading-7;
  }

  .prose table {
    @apply w-full border-collapse border border-border rounded-lg overflow-hidden mb-4;
  }

  .prose th {
    @apply bg-muted border border-border px-4 py-2 text-left font-semibold;
  }

  .prose td {
    @apply border border-border px-4 py-2;
  }

  .prose img {
    @apply rounded-lg border border-border max-w-full h-auto;
  }

  .prose hr {
    @apply border-border my-8;
  }

  /* Dark mode prose adjustments */
  .dark .prose {
    @apply text-foreground;
  }

  /* Animation utilities */
  .animate-in {
    animation-duration: 0.3s;
    animation-fill-mode: both;
  }

  .slide-in-from-bottom-2 {
    animation-name: slide-in-from-bottom-2;
  }

  @keyframes slide-in-from-bottom-2 {
    from {
      transform: translateY(8px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* Chat-specific components */
  .chat-bubble {
    @apply max-w-[80%] break-words;
  }

  .chat-bubble-user {
    @apply bg-primary text-primary-foreground ml-auto rounded-2xl rounded-br-md px-4 py-3;
  }

  .chat-bubble-assistant {
    @apply bg-card border border-border mr-auto rounded-2xl rounded-bl-md px-4 py-3;
  }

  /* Status indicators */
  .status-online {
    @apply bg-green-500;
  }

  .status-away {
    @apply bg-yellow-500;
  }

  .status-offline {
    @apply bg-gray-500;
  }

  .status-thinking {
    @apply bg-yellow-500 animate-pulse;
  }

  /* Content cards */
  .content-card {
    @apply bg-card border border-border rounded-lg overflow-hidden;
    @apply hover:shadow-md hover:border-primary/50;
    @apply transition-all duration-200 group;
  }

  .content-card-featured {
    @apply content-card shadow-lg hover:shadow-xl;
  }

  .content-card-compact {
    @apply content-card hover:shadow-sm;
  }

  /* Badge components */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply badge bg-primary/10 text-primary;
  }

  .badge-secondary {
    @apply badge bg-secondary/10 text-secondary-foreground;
  }

  .badge-accent {
    @apply badge bg-accent/10 text-accent;
  }

  .badge-success {
    @apply badge bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200;
  }

  .badge-warning {
    @apply badge bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200;
  }

  .badge-error {
    @apply badge bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200;
  }

  .badge-info {
    @apply badge bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200;
  }

  /* Loading states */
  .loading-skeleton {
    @apply animate-pulse bg-muted rounded;
  }

  .loading-spinner {
    @apply animate-spin rounded-full border-2 border-muted border-t-primary;
  }

  /* Focus states for accessibility */
  .focus-ring {
    @apply focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:outline-none;
  }

  /* Hover effects */
  .hover-lift {
    @apply transition-transform duration-200 hover:scale-105;
  }

  .hover-glow {
    @apply transition-shadow duration-200 hover:shadow-lg hover:shadow-primary/25;
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent;
  }

  /* Not prose utility for mixed content */
  .not-prose {
    all: revert;
  }

  .not-prose * {
    all: unset;
    display: revert;
    box-sizing: revert;
  }
}